{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-25T23:15:32.393Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 8,
    "implemented": 4,
    "items": [
      {
        "id": "REQ-44",
        "summary": "After a user logs out from any page, immediately redirect them to the main Home Feed page. The logout action in Profile.tsx and any other location that calls the logout function must navigate to the home route after the identity session is cleared.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/pages/Profile.tsx",
          "frontend/src/components/AppHeader.tsx"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-45",
        "summary": "Replace the current Internet Identity authentication with Google and Apple ID as the only two supported login methods. Display both options as prominent buttons on the login screen. On successful authentication, associate the user's identity with a backend profile (creating one on first login). The existing LoginPrompt, ProfileSetup, and AuthGuard components must be updated to reflect the new providers. Internet Identity references should be removed from all UI-facing components.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/hooks/useInternetIdentity.ts",
          "frontend/src/components/LoginPrompt.tsx",
          "frontend/src/components/AuthGuard.tsx",
          "frontend/src/components/ProfileSetup.tsx"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-46",
        "summary": "Allow any logged-in user (regardless of role) to view the full seller profile when browsing — including the seller's display name, masked phone number, location, verified badge status, average star rating, listed products, and reviews. The seller info on the Listing Detail page and the PublicProfile page must show all these fields to any authenticated viewer. Unauthenticated visitors should see a prompt to log in to view full seller info.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/pages/ListingDetail.tsx",
          "frontend/src/components/SellerInfo.tsx",
          "frontend/src/pages/PublicProfile.tsx"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-47",
        "summary": "Generate a unique shareable profile link for every seller. The link should use the seller's principal ID as a URL parameter (e.g., /public-profile?id=<principalId>). On the seller's Profile page and PublicProfile page, display a 'Share My Profile' button that copies this link to the clipboard and shows a confirmation toast. The link should be stable and accessible to anyone — even unauthenticated users can open it but will be prompted to log in to interact.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/pages/Profile.tsx",
          "frontend/src/pages/PublicProfile.tsx",
          "frontend/src/utils/urlParams.ts"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-48",
        "summary": "Implement a Like and Follow system for sellers. Users can 'Like' individual listings (heart icon on each listing card and detail page) and 'Follow' a seller from their PublicProfile or Listing Detail page. In the backend, add a `followSeller` function that records follower/following relationships (followerId → sellerId) and an `unfollowSeller` function to remove the relationship. Add a `likeListingAnon` / `likeListing` function to toggle a like on a listing, storing the liker's principal and the listing ID. Expose query functions `getFollowing`, `getFollowers`, and `getLikedListings`. In the Profile page, add a 'Following' tab showing followed sellers. Display follower counts on seller profiles and like counts on listing cards.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/ListingCard.tsx",
          "frontend/src/pages/ListingDetail.tsx",
          "frontend/src/pages/PublicProfile.tsx",
          "frontend/src/components/ProfileTabs.tsx",
          "frontend/src/pages/Profile.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/ListingCard.tsx",
          "frontend/src/components/ProfileTabs.tsx"
        ]
      },
      {
        "id": "REQ-49",
        "summary": "Allow users to upload and display a profile picture. Add a `profilePicUrl` field (Text, optional) to the UserProfile type in the backend. Add an `updateProfilePic` function that accepts a base64-encoded image string or URL and stores it on the caller's profile. On the Profile page and PublicProfile page, display the profile picture if available, or fall back to the animated initials avatar. Add a camera/upload icon button on the Profile page that opens a file picker to select a photo, converts it to base64, and calls `updateProfilePic`. Display the profile picture in the avatar circle of the BottomNav, AppHeader profile icon, SellerInfo component, and ConversationItem.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/pages/Profile.tsx",
          "frontend/src/components/SellerInfo.tsx",
          "frontend/src/components/ConversationItem.tsx",
          "frontend/src/pages/PublicProfile.tsx",
          "frontend/src/components/BottomNav.tsx",
          "frontend/src/components/AppHeader.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useQueries.ts"
        ]
      },
      {
        "id": "REQ-50",
        "summary": "Ensure all user account data, sessions, and listed products are accessible from any device. Since the platform uses principal-based identity (Google/Apple), the same identity resolves to the same principal across devices, so data is inherently cross-device. Update the frontend to not rely on device-local state (localStorage/sessionStorage) for authenticated user data — all profile data, listings, conversations, and follows must be fetched from the backend on every session start. Add a `useGetCallerUserProfile` query that runs on app load for authenticated users to re-hydrate their profile from the backend rather than from local cache.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useGetCallerUserProfile.ts",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/pages/Profile.tsx",
          "frontend/src/components/AuthGuard.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useQueries.ts"
        ]
      },
      {
        "id": "REQ-51",
        "summary": "Ensure that all listed products persist in the backend indefinitely and are never automatically removed. Listings may only be deleted when the owner explicitly calls the `deleteListing` function from their own 'My Listings' section. Remove any TTL, expiry, or automatic cleanup logic from the backend if present. Inactive/sold listings should remain visible to the owner in their 'My Listings' tab with a status badge (Active / Sold / Paused) even after they are no longer shown in the public Home Feed.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/MyListingCard.tsx",
          "frontend/src/components/ProfileTabs.tsx",
          "frontend/src/pages/HomeFeed.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/MyListingCard.tsx",
          "frontend/src/components/ProfileTabs.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/CategoryFilter.tsx",
    "frontend/src/components/FeaturedListingsRow.tsx",
    "frontend/src/components/ListingCard.tsx",
    "frontend/src/components/MyListingCard.tsx",
    "frontend/src/components/ProfileTabs.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useQueries.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}